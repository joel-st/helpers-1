!function($,o){function e(o){o.stopPropagation();var e=o.currentTarget.id.match(/zone([0-9]+)/);e&&a.text(n(s,{0:e[1]})).show()}function t(){a.hide()}function n(o,e){for(var t in e)o=o.replace("{"+t+"}",e[t]);return o}function i(){c.on("mouseover",'[id^="zone"]',function(o){o.preventDefault(),e(o)}).on("mouseout",'[id^="zone"]',function(o){o.preventDefault(),t(o)})}var a,c,s;$(document).on("ready.tooltip",function(){a=$('<div class="tooltip" />').appendTo("body"),c=$(".tx-frpzonemaplibero"),s=c.data("tooltiptext"),i()}),$(document).on("mousemove.tooltip",function(o){$("body[style]").attr("style",""),a.css({left:o.pageX+20,top:o.pageY})})}(jQuery);var svgPanZoom,Hammer;!function($,o){var e=$("#zonenplan-svg"),t=[],n=0;e.on("mousedown touchstart","polygon, circle, polyline",function(){n=0}),e.on("mousemove touchmove","polygon, circle, polyline",function(){n=1}),e.on("mouseup touchend","polygon, circle, polyline",function(){0===n&&$(this).trigger("regionClicked"),n=0}),e.on("regionClicked","polygon, circle, polyline",function(o){o.preventDefault();var e=$(this).attr("id");if(e){this.classList.toggle("selected"),this.classList.contains("selected")?t["zone"+e]=e:delete t["zone"+e];var n=$(this).closest(".svg-holder");Object.keys(t).length>0?n.addClass("act"):n.removeClass("act")}});var i;i={haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(o){var e=o.instance,t=1,n=0,i=0;this.hammer=new Hammer(o.svgElement,{inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput}),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("panstart panmove",function(o){"panstart"===o.type&&(n=0,i=0),e.panBy({x:o.deltaX-n,y:o.deltaY-i}),n=o.deltaX,i=o.deltaY}),this.hammer.on("pinchstart pinchmove",function(o){"pinchstart"===o.type&&(t=e.getZoom(),e.zoom(t*o.scale)),e.zoom(t*o.scale)}),o.svgElement.addEventListener("touchmove",function(o){o.preventDefault()})},destroy:function(){this.hammer.destroy()}};var a={zoomEnabled:!0,controlIconsEnabled:!1,fit:!0,center:!0,dblClickZoomEnabled:!1,zoomScaleSensitivity:.5,minZoom:1,maxZoom:6,customEventsHandler:i,beforePan:function(o,t){var n=e.width(),i=e.height(),a=this.getSizes(),c=-((a.viewBox.x+a.viewBox.width)*a.realZoom)+n,s=a.width-n-a.viewBox.x*a.realZoom,l=-((a.viewBox.y+a.viewBox.height)*a.realZoom)+i,r=a.height-i-a.viewBox.y*a.realZoom,m={};return m.x=Math.max(c,Math.min(s,t.x)),m.y=Math.max(l,Math.min(r,t.y)),m}},c=svgPanZoom("#zonenplan-svg",a);$(".zoomies").on("click.zoomies",".zoom-in",function(){c.zoomIn()}),$(".zoomies").on("click.zoomies",".zoom-out",function(){c.zoomOut()})}(jQuery);